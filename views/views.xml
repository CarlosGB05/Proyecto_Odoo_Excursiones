<odoo>
  <data>

   
     <!-- LISTA PROFESORES -->
    <record id="view_profesor_list" model="ir.ui.view">
      <field name="name">excursiones.profesor.list</field>
      <field name="model">excursiones.profesor</field>
      <field name="arch" type="xml">
        <list string="Profesores">
          <field name="nombre"/>
          <field name="departamento"/>
          <field name="telefono"/>
          <field name="rol"/>
        </list>
      </field>
    </record>

    <!-- FORMULARIO PROFESORES -->
    <record id="view_profesor_form" model="ir.ui.view">
      <field name="name">excursiones.profesor.form</field>
      <field name="model">excursiones.profesor</field>
      <field name="arch" type="xml">
        <form string="Profesor">
          <sheet>
            <group>
              <field name="nombre"/>
              <field name="departamento"/>
              <field name="email"/>
              <field name="telefono"/>
              <field name="rol"/>
            </group>
            <notebook>
              <page string="Excursiones a cargo">
                <field name="excursiones_ids"/>
              </page>
            </notebook>
          </sheet>
        </form>
      </field>
    </record>

    <!-- LISTA DESTINOS -->
    <record id="view_destino_list" model="ir.ui.view">
      <field name="name">excursiones.destino.list</field>
      <field name="model">excursiones.destino</field>
      <field name="arch" type="xml">
        <list string="Destinos">
          <field name="nombre"/>
          <field name="tipo"/>
          <field name="telefono"/>
          <field name="coste_entrada"/>
        </list>
      </field>
    </record>

    <!-- FORMULARIO DESTINO -->
    <record id="view_destino_form" model="ir.ui.view">
      <field name="name">excursiones.destino.form</field>
      <field name="model">excursiones.destino</field>
      <field name="arch" type="xml">
        <form string="Destino">
          <sheet>
            <group>
              <field name="nombre"/>
              <field name="direccion"/>
              <field name="tipo"/>
              <field name="contacto"/>
              <field name="telefono"/>
              <field name="email"/>
              <field name="coste_entrada"/>
            </group>
            <group>
              <field name="descripcion"/>
            </group>
            <notebook>
              <page string="Excursiones realizadas">
                <field name="excursiones_ids"/>
              </page>
            </notebook>
          </sheet>
        </form>
      </field>
    </record>

    <!-- LISTA EXCURSIONES -->
    <record id="view_excursion_list" model="ir.ui.view">
      <field name="name">excursiones.excursion.list</field>
      <field name="model">excursiones.excursion</field>
      <field name="arch" type="xml">
        <list string="Excursiones">
          <field name="nombre"/>
          <field name="fecha"/>
          <field name="curso"/>
          <field name="profesor_id"/>
          <field name="destino_id"/>
        </list>
      </field>
    </record>

    <!-- FORMULARIO EXCURSION -->
    <record id="view_excursion_form" model="ir.ui.view">
      <field name="name">excursiones.excursion.form</field>
      <field name="model">excursiones.excursion</field>
      <field name="arch" type="xml">
        <form string="Excursión Escolar">
          <header>
            <!-- Botón visible solo cuando el registro está guardado -->
            <button name="%(action_report_excursion)d"
                    string="Imprimir Ficha"
                    type="action"
                    class="oe_highlight"
                    icon="fa-print"/>
                   
          </header>
          <sheet>
            <group>
              <field name="nombre"/>
              <field name="fecha"/>
              <field name="hora_salida"/>
              <field name="hora_regreso"/>
              <field name="curso"/>
              <field name="profesor_id"/>
              <field name="destino_id"/>
              <field name="transporte"/>
            </group>
            <notebook>
              
            </notebook>
          </sheet>
        </form>
      </field>
    </record>

    <!-- ACCIONES -->
    <record id="action_profesor" model="ir.actions.act_window">
      <field name="name">Profesores</field>
      <field name="res_model">excursiones.profesor</field>
      <field name="view_mode">list,form</field>
    </record>

    <record id="action_destino" model="ir.actions.act_window">
      <field name="name">Destinos</field>
      <field name="res_model">excursiones.destino</field>
      <field name="view_mode">list,form</field>
    </record>

    <record id="action_excursion" model="ir.actions.act_window">
      <field name="name">Excursiones</field>
      <field name="res_model">excursiones.excursion</field>
      <field name="view_mode">list,form</field>
    </record>

    <!-- MENÚS -->
    <menuitem id="menu_excursion_root" name="Gestión de Excursiones"/>

    <menuitem id="menu_profesores"
              name="Profesores"
              parent="menu_excursion_root"
              action="action_profesor"/>

    <menuitem id="menu_destinos"
              name="Destinos"
              parent="menu_excursion_root"
              action="action_destino"/>

    <menuitem id="menu_excursiones"
              name="Excursiones"
              parent="menu_excursion_root"
              action="action_excursion"/>

  </data>
</odoo>
